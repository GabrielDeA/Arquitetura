; You may customize this and other start-up templates; 
; The location of this template is c:\emu8086\inc\0_com_template.txt

INCLUDE "EMU8086.INC"
TAMANHO EQU 32
org 100h
DEFINE_GET_STRING
DEFINE_PRINT_STRING

MOV DH, 0
MOV DL, 0 


INSERIR_STRINGS:
MOV SI, OFFSET MENS1
CALL PRINT_STRING


CALL PULA_LINHA

MOV DI, OFFSET MIGUEL
MOV DX, TAMANHO + 1
CALL GET_STRING


CALL PULA_LINHA
MOV SI, OFFSET MENS2
CALL PRINT_STRING

CALL PULA_LINHA

MOV DI, OFFSET STR
MOV DX, 32 + 1
CALL GET_STRING

MOV SI, OFFSET MIGUEL
MOV DI, OFFSET STR
MOV DH, [SI]
MOV DL, [DI]

CALL PROCURAR_MIGUEL

PROCURAR_MIGUEL:
CMP DH, 00
JE ENCONTRA
CMP DL, 00
JE NAO_ENCONTRA

MOV DH, [SI]
MOV DL, [DI]

CMP DH, DL
JE INC_AMBOS
JNE INC_STR



INC_AMBOS:
INC SI
INC DI            

   

CALL PROCURAR_MIGUEL

INC_STR:
INC DI

MOV SI, OFFSET MIGUEL
CALL PROCURAR_MIGUEL 

ENCONTRA:
CALL PULA_LINHA

MOV SI, OFFSET ENCONTRADO
CALL PRINT_STRING
MOV SI, OFFSET STR
CALL PRINT_STRING

MOV AH, 4CH
MOV AL, 0
INT 21H

NAO_ENCONTRA:
CALL PULA_LINHA

MOV SI, OFFSET NAO_ENCONTRADO
CALL PRINT_STRING
MOV SI, OFFSET STR
CALL PRINT_STRING
MOV AH, 4CH
MOV AL, 0
INT 21H

PULA_LINHA:
push ax
push dx
mov ah,2
mov dl,13
int 21h
mov ah,2
mov dl,10
int 21h
pop dx
pop ax
ret   


MENS1 DB "ENTRE COM UMA SUBSTRING",0
MENS2 DB "ENTRE COM UMA STRING",0
MIGUEL DB TAMANHO DUP(" "),0
STR DB 32 DUP(" "),0
ENCONTRADO DB "A SUBSTRING SE ENCONTRA NA STRING ",0
NAO_ENCONTRADO DB "A SUBSTRING NAO SE ENCONTRA NA STRING ",0
